---
import MainLayout from '../../layouts/MainLayout.astro';
import Header from '../../components/layout/Header.astro';
import Footer from '../../components/layout/Footer.astro';
import { getCollection } from 'astro:content';

const practices = await getCollection('practices');
const sortedPractices = practices.sort((a, b) => a.data.order - b.data.order);

const title = "Practice Areas | Ebert Haegele Criminal Defense";
---

<MainLayout title={title}>
  <Header slot="header" />

  <div class="bg-navy-900 text-white py-16">
    <div class="container max-w-4xl">
      <h1 class="text-4xl md:text-5xl font-serif font-bold mb-4">Practice Areas</h1>
      <p class="text-xl text-gray-300">Detailed breakdown of our criminal defense services.</p>
    </div>
  </div>

  <div class="container py-16 max-w-6xl">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    {sortedPractices.map(practice => (
      <a href={`/practice/${practice.slug}`} class="group bg-white p-8 rounded-sm shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-accent flex flex-col items-start h-full">
        <div class="text-accent mb-6 transform group-hover:scale-110 transition-transform duration-300">
           <!-- Generic Icon or Practice Specific Icon if we had them -->
           <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path></svg>
        </div>
        
        <h3 class="text-xl font-serif font-bold text-primary mb-3 uppercase tracking-wide group-hover:text-accent transition-colors">
          {practice.data.title}
        </h3>
        
        <p class="text-gray-600 mb-6 text-sm leading-relaxed flex-grow">
          {practice.data.description}
        </p>
        
        <span class="text-xs font-bold text-accent uppercase tracking-wider group-hover:underline flex items-center gap-2">
          View Defense Strategy <span class="text-lg">&rarr;</span>
        </span>
      </a>
    ))}
    </div>
  </div>

  <Footer slot="footer" />
</MainLayout>
